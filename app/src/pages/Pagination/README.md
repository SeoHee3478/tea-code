# React-Component-Practice

## Pagination 기능

## 주제

페이지네이션 기능 구현하기

## 목표

작은 단위의 리액트 컴포넌트 기능을 페어프로그래밍으로 구현하면서 드라이버는 프로그래밍 사고력을 향상시키고, 네비게이터는 자신이 구현한 기능에 대해 명확한 설명을 할 수 있도록 연습하는 것을 목표로 합니다.

## 내용

매주 서로 역할을 바꿔가며 네비게이터의 설명에 따라 드라이버가 주어진 기능을 똑같이 구현합니다.

## 기능 구현 명세

### 조건
- [JSON Placehoder](https://jsonplaceholder.typicode.com/)에서 가져온 공개된 API를 통해 게시물 데이터를 가져옵니다. 
- 인기순위순은 data의 rank값을 통해 오름차순으로 정렬합니다.
- 제목순은 data의 title값을 통해 오름차순으로 정렬합니다.
- 최근개봉순은 data의 year값을 통해 내림차순으로 정렬합니다.

### 프로세스

1. useState를 사용하여 게시물을 관리할 상태값을 추가합니다.
2. JSON Placeholder API를 비동기로 요청하고 응답받은 게시물 데이터를 useEffect를 활용하여 posts 상태에 저장합니다.
3. (조회기능) 게시물 데이터를 map 함수를 활용하여 게시물의 key는 id값으로 설정하고, 제목은 id + title 값, 게시물은 body 값으로 넣어 여러 리스트를 출력해줍니다. 
4. 페이지 네이션 알고리즘의 이해 
  4-1. 총 게시물 수를 페이지 당 표시할 게시물의 수로 나눈 뒤 올림을 하면 몇 개의 페이지가 필요한지를 계산할 수 있습니다.
  4-2. 현재 페이지 번호를 기준으로 표시해줘야할 게시물들의 범위, 즉, 해당 페이지의 첫 게시물의 위치(index)는 페이지 번호에서 1을 뺀 후에 페이지 당 표시할 게시물의 수를 곱하면 첫 게시물의 위치를 계산할 수 있습니다.
5. useState를 사용하여 페이지 당 게시물 수 (limit), 현재 페이지 번호(page)를 상태로 추가하고, 첫 게시물의 위치(offset)를 계산합니다.
6. 유저가 페이지 당 표시할 게시물 수를 바꿀 수 있도록 `select` 요소를 추가하여 option값을 추가해줍니다.
7. slice 함수를 사용하여 게시물들의 정보를 나열해주는 posts에 `offset`부터 `offset + limit` 값 까지만 보여줄 수 있도록 수정합니다.
8. 페이지를 이동할 수 있는 pagination 컴포넌트를 만듭니다. index 컴포넌트로부터 총 게시물 수(total), 페이지 당 게시물 수(limit), 현재 페이지 번호(page)를 props로 받습니다. 
9. 페이지 개수(numPages)를 계산한 후 페이지의 개수만큼 루프를 돌면서 페이지 번호 버튼을 출력합니다.
  9-1. 페이지 번호 버튼에 클릭 이벤트가 발생하면 prop으로 넘어온 setPage()함수를 호출하여 부모인 index 컴포넌트의 page 상태가 변경되도록 합니다.
  9-2. 스크린 리더를 사용하는 유저들에게 도움이 되도록 현재 페이지를 가리키는 버튼을 aria-current 속성으로 표시해줍니다.
  9-3. 이전 페이지 버튼은 첫번째 페이지에서, 다음 페이지는 마지막 페이지에서 클릭이 불가능하도록 처리해줍니다.
10. 마지막으로 Pagination 컴포넌트를 index 컴포넌트에서 불러와서 삽입해줍니다. 불러올 때 필요한 props는 총 게시물 수(total), 페이지 당 게시물 수(limit), 현재 페이지(page), 페이지를 설정하는 함수(setPage) 입니다.

